{
  "version": 3,
  "sources": ["../src/infrastructure/config.js", "../src/auth/session.js", "../src/infrastructure/api.js", "../src/utilities/dom.js", "../src/utilities/url.js", "../src/plugins/environments-bar.js", "../src/utilities/formatting.js", "../src/plugins/document-information.js", "../src/plugins/tree-information.js", "../src/plugins/staging-tasks.js", "../src/utilities/log.js", "../src/plugins/shortcuts-bar.js", "../src/plugins/media-selector.js", "../src/plugins/plugins.js", "../src/kenticoextensions.js"],
  "sourcesContent": ["const ke_CMSSiteURL = window.location.origin + '/';\r\nconst ke_CMSAdminURL = ke_CMSSiteURL + 'admin/cmsadministration.aspx';\r\nconst ke_PublicSiteURL = ke_CMSSiteURL.replace('cms', 'site'); // This is client specific!\r\nconst ke_APIURL = ke_CMSSiteURL + 'kenticoextensions/api.ashx';\r\n\r\nconst config = {\r\n  EnabledUserNames: [],\r\n  DisabledUserNames: [],\r\n  Enabled: false,\r\n  ConsoleLogging: false,\r\n  CacheListRefreshFrequency: 10000,\r\n  Extensions: [],\r\n  siteURL: ke_CMSSiteURL,\r\n  adminURL: ke_CMSAdminURL,\r\n  publicSiteURL: ke_PublicSiteURL,\r\n  apiURL: ke_APIURL,\r\n};\r\n\r\nexport function getAppConfig() {\r\n  return {\r\n    ...config,\r\n  };\r\n}\r\n\r\nexport function setAppConfig(newConfig) {\r\n  config.Enabled = newConfig.Enabled;\r\n  config.ConsoleLogging = newConfig.ConsoleLogging || config.ConsoleLogging;\r\n  config.CacheListRefreshFrequency =\r\n    newConfig.CacheListRefreshFrequency || config.CacheListRefreshFrequency;\r\n\r\n  config.EnabledUserNames =\r\n    newConfig.EnabledUserNames || config.EnabledUserNames;\r\n  config.DisabledUserNames =\r\n    newConfig.DisabledUserNames || config.DisabledUserNames;\r\n\r\n  config.Extensions = newConfig.Extensions || config.Extensions;\r\n}\r\n\r\n/**\r\n * Retrieves the configuration for the given extension codeName\r\n * @param {string} code\r\n * @returns {{ Enabled: boolean, Config: Object } | undefined}\r\n */\r\nexport function getExtensionConfig(code) {\r\n  return config.Extensions.find((e) => e.Code === code) || {};\r\n}\r\n", "import { getAppConfig } from '../infrastructure/config';\r\n\r\nconst userInfo = {\r\n  id: 0,\r\n  guid: '00000000-0000-0000-0000-000000000000',\r\n  username: '',\r\n  globalAdmin: false,\r\n};\r\n\r\nexport function isCurrentSessionEnabled() {\r\n  const { EnabledUserNames, DisabledUserNames } = getAppConfig();\r\n\r\n  return (\r\n    userInfo.username &&\r\n    (!EnabledUserNames.length ||\r\n      EnabledUserNames.includes(userInfo.username)) &&\r\n    !DisabledUserNames.includes(userInfo.username)\r\n  );\r\n}\r\n\r\nexport function getCurrentSession() {\r\n  return {\r\n    ...userInfo,\r\n  };\r\n}\r\n\r\nexport function setCurrentSession(info) {\r\n  userInfo.guid = info.guid;\r\n  userInfo.id = info.id;\r\n  userInfo.username = info.username;\r\n  userInfo.globalAdmin = info.globalAdmin;\r\n}\r\n", "import { getAppConfig } from './config';\r\n\r\nexport function get(queryParams, refreshData) {\r\n  const { apiURL } = getAppConfig();\r\n\r\n  var params = new URLSearchParams();\r\n\r\n  for (const key in queryParams) {\r\n    if (Object.hasOwnProperty.call(queryParams, key)) {\r\n      params.append(key, queryParams[key]);\r\n    }\r\n  }\r\n\r\n  if (refreshData) {\r\n    params.append('refreshdata', true);\r\n  }\r\n\r\n  const requestURL = Array.from(params.entries()).length\r\n    ? `${apiURL}?${params.toString()}`\r\n    : apiURL;\r\n\r\n  return fetch(requestURL, { method: 'GET' })\r\n    .then((resp) => resp.json())\r\n    .then((resp) => resp.Data);\r\n}\r\n\r\nexport function post(queryParams, payload, refreshData) {\r\n  const { apiURL } = getAppConfig();\r\n\r\n  var params = new URLSearchParams();\r\n\r\n  for (const key in queryParams) {\r\n    if (Object.hasOwnProperty.call(object, key)) {\r\n      params.append(key, object[key]);\r\n    }\r\n  }\r\n\r\n  if (refreshData) {\r\n    params.append('refreshdata', true);\r\n  }\r\n\r\n  const requestURL = params.keys.length\r\n    ? `${apiURL}?${params.toString()}`\r\n    : apiURL;\r\n\r\n  return fetch(requestURL, {\r\n    method: 'POST',\r\n    body: JSON.stringify(payload),\r\n  })\r\n    .then((resp) => resp.json())\r\n    .then((resp) => resp.Data);\r\n}\r\n", "export function isCMSRootIFrame() {\r\n  return document.querySelector('.CMSDeskContent');\r\n}\r\n\r\nexport function isContentTree() {\r\n  return document.querySelector('.ContentTree');\r\n}\r\n\r\nexport function contenTree() {\r\n  return document.querySelector('.TreeAreaTree');\r\n}\r\n", "/**\r\n *\r\n * @param {string} name\r\n * @param {string} url\r\n * @returns {string | null}\r\n */\r\nexport function getQueryStringValue(name, url) {\r\n  if (!url) {\r\n    url = window.location.href;\r\n  }\r\n\r\n  const urlobj = getURL(url);\r\n  if (!urlobj) {\r\n    return null;\r\n  }\r\n  const urlsearch = urlobj.search;\r\n  const params = new URLSearchParams(urlsearch);\r\n\r\n  return params.get(name);\r\n}\r\n\r\nfunction getURL(value) {\r\n  try {\r\n    if (value.startsWith('http')) {\r\n      return new URL(value);\r\n    }\r\n    return new URL(value, document.baseURI);\r\n  } catch (_) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function isLoginPage() {\r\n  return window.location.href.includes('/CMSPages/logon.aspx');\r\n}\r\n\r\nexport function isPageInfoFrame() {\r\n  return window.location.href.includes(\r\n    '/CMSModules/AdminControls/Pages/UIPage.aspx'\r\n  );\r\n}\r\n\r\nexport function isCMSDeskFrame() {\r\n  return window.location.href.includes(\r\n    '/CMSModules/Content/CMSDesk/Default.aspx'\r\n  );\r\n}\r\n\r\nexport function isCMSDashboard() {\r\n  return window.location.href.includes(\r\n    '/CMSModules/ApplicationDashboard/ApplicationDashboard.aspx'\r\n  );\r\n}\r\n\r\nexport function isStagingFrame() {\r\n  return (\r\n    window.location.href.includes(\r\n      '/CMSModules/Staging/Tools/AllTasks/Tasks.aspx'\r\n    ) ||\r\n    window.location.href.includes(\r\n      '/CMSModules/Staging/Tools/Tasks/Tasks.aspx'\r\n    ) ||\r\n    window.location.href.includes(\r\n      '/CMSModules/Staging/Tools/Objects/Tasks.aspx'\r\n    ) ||\r\n    window.location.href.includes('/CMSModules/Staging/Tools/Data/Tasks.aspx')\r\n  );\r\n}\r\n", "import { getExtensionConfig } from '../infrastructure/config';\r\nimport { isCMSRootIFrame } from '../utilities/dom';\r\n\r\n/* \r\nExtension: Environment Bar (eb)\r\nDescription: Adds a coloured bar to indicate the current environment\r\n*/\r\nexport function initialize() {\r\n  const masterContainer = isCMSRootIFrame();\r\n  if (!masterContainer) {\r\n    return;\r\n  }\r\n\r\n  const extConfig = getExtensionConfig('eb');\r\n  if (!extConfig.Enabled || !extConfig.Config) {\r\n    return;\r\n  }\r\n\r\n  const envConfig = getCurrentEnvironmentConfig(extConfig);\r\n  if (!envConfig) {\r\n    return;\r\n  }\r\n\r\n  const envbar = document.createElement('div');\r\n  envbar.id = 'ke-eb';\r\n  envbar.className = 'ke-eb fullwidth';\r\n  envbar.style.backgroundColor = envConfig.Color;\r\n  masterContainer.parentNode.insertBefore(envbar, masterContainer);\r\n\r\n  const envbarlabel = document.createElement('div');\r\n  envbarlabel.id = 'ke-eb label';\r\n  envbarlabel.className = 'ke-eb label';\r\n  envbarlabel.style.backgroundColor = envConfig.Color;\r\n  envbarlabel.innerHTML = `<span>${envConfig.Label}</span>`;\r\n  masterContainer.parentNode.insertBefore(envbarlabel, masterContainer);\r\n\r\n  document.title = `${envConfig.Label}-${document.title}`;\r\n}\r\n\r\nfunction getCurrentEnvironmentConfig(extensionConfig) {\r\n  const envConfig = extensionConfig.Config;\r\n  const currentURL = window.location.hostname;\r\n\r\n  for (let i = 0; i < envConfig.Environments.length; i++) {\r\n    const configURL = envConfig.Environments[i].URL;\r\n    if (configURL === currentURL) {\r\n      return envConfig.Environments[i];\r\n    }\r\n\r\n    // starts with wildcard\r\n    if (\r\n      configURL.length > 1 &&\r\n      !configURL.startsWith('*') &&\r\n      configURL.endsWith('*') &&\r\n      currentURL.startsWith(configURL.substr(0, configURL.length - 1)) === true\r\n    ) {\r\n      return envConfig.Environments[i];\r\n    }\r\n\r\n    // ends with wildcard\r\n    if (\r\n      configURL.length > 1 &&\r\n      configURL.startsWith('*') &&\r\n      !configURL.endsWith('*') &&\r\n      currentURL.endsWith(configURL.substr(1)) === true\r\n    ) {\r\n      return envConfig.Environments[i];\r\n    }\r\n\r\n    // contains wildcard\r\n    if (\r\n      configURL.length > 2 &&\r\n      configURL.startsWith('*') &&\r\n      configURL.endsWith('*') &&\r\n      currentURL.indexOf(configURL.substr(1, configURL.length - 2)) !== -1\r\n    ) {\r\n      return envConfig.Environments[i];\r\n    }\r\n  }\r\n}\r\n", "export function ke_getISODateTimeString(date, format) {\r\n  var cdt = new Date(date);\r\n  var hours = cdt.getHours();\r\n  var ampm = cdt.getHours() >= 12 ? 'PM' : 'AM';\r\n  if ((format = '12')) {\r\n    var hours = hours % 12;\r\n    hours = hours ? hours : 12;\r\n  }\r\n  var cdts =\r\n    cdt.getFullYear() +\r\n    '-' +\r\n    ('0' + (cdt.getMonth() + 1)).slice(-2) +\r\n    '-' +\r\n    ('0' + cdt.getDate()).slice(-2) +\r\n    ' ' +\r\n    ('0' + hours).slice(-2) +\r\n    ':' +\r\n    ('0' + cdt.getMinutes()).slice(-2) +\r\n    ':' +\r\n    ('0' + cdt.getSeconds()).slice(-2);\r\n  if ((format = '12')) {\r\n    cdts += ' ' + ampm;\r\n  }\r\n  return cdts;\r\n}\r\n\r\nexport function ke_getCurrentDateTimeString() {\r\n  var cdt = new Date();\r\n  var cdts =\r\n    cdt.getUTCFullYear() +\r\n    '-' +\r\n    ('0' + (cdt.getUTCMonth() + 1)).slice(-2) +\r\n    '-' +\r\n    ('0' + cdt.getUTCDate()).slice(-2) +\r\n    ' ' +\r\n    ('0' + cdt.getUTCHours()).slice(-2) +\r\n    ':' +\r\n    ('0' + cdt.getUTCMinutes()).slice(-2) +\r\n    ':' +\r\n    ('0' + cdt.getUTCSeconds()).slice(-2);\r\n  return cdts;\r\n}\r\n\r\nexport function ke_formatBytes(bytes) {\r\n  if (bytes >= 1000000000) {\r\n    bytes = (bytes / 1000000000).toFixed(2) + ' GB';\r\n  } else if (bytes >= 1000000) {\r\n    bytes = (bytes / 1000000).toFixed(2) + ' MB';\r\n  } else if (bytes >= 1000) {\r\n    bytes = (bytes / 1000).toFixed(0) + ' KB';\r\n  } else if (bytes > 1) {\r\n    bytes = bytes + ' bytes';\r\n  } else if (bytes == 1) {\r\n    bytes = bytes + ' byte';\r\n  } else {\r\n    bytes = '0 byte';\r\n  }\r\n  return bytes;\r\n}\r\n", "import { get } from '../infrastructure/api';\r\nimport { getExtensionConfig } from '../infrastructure/config';\r\nimport { getQueryStringValue, isPageInfoFrame } from '../utilities/url';\r\nimport { ke_getISODateTimeString } from '../utilities/formatting';\r\n\r\n/*\r\nExtension: Document Information (di)\r\nDescription: Displays additional information within the document view.\r\n*/\r\nexport async function initialize() {\r\n  if (!isPageInfoFrame()) {\r\n    return;\r\n  }\r\n\r\n  const allNavTabs = document.querySelectorAll('.nav-tabs');\r\n\r\n  if (!allNavTabs.length) {\r\n    return;\r\n  }\r\n\r\n  const extConfig = getExtensionConfig('di');\r\n\r\n  if (!extConfig.Enabled) {\r\n    return;\r\n  }\r\n\r\n  const nodeid = getQueryStringValue('nodeid');\r\n\r\n  if (nodeid == null || nodeid == '') {\r\n    return;\r\n  }\r\n\r\n  const docItems = await get({ data: 'documentinfo', nodeid });\r\n\r\n  if (docItems.length < 1) {\r\n    return;\r\n  }\r\n\r\n  const [navTabs] = allNavTabs;\r\n  const [docItem] = docItems;\r\n\r\n  const dateTimeString = ke_getISODateTimeString(\r\n    docItem.DocumentModifiedWhen,\r\n    '12'\r\n  );\r\n\r\n  const infoDiv = document.createElement('div');\r\n  infoDiv.id = `ke_di_node_${docItem.NodeID}`;\r\n  infoDiv.className = 'ke-di-info-div';\r\n  infoDiv.innerHTML = `<strong>Last modified:</strong> ${docItem.DocumentModifiedBy} (${dateTimeString}) | <a href=\"${docItem.AbsolutePath}\" target=\"_blank\">Live Version</a><br />`;\r\n\r\n  navTabs.appendChild(infoDiv);\r\n}\r\n", "import { get } from '../infrastructure/api';\r\nimport { getExtensionConfig } from '../infrastructure/config';\r\nimport { contenTree, isContentTree } from '../utilities/dom';\r\nimport { isCMSDeskFrame } from '../utilities/url';\r\n\r\nlet treeItems = [];\r\nlet treeItemsLookup = {};\r\n\r\n/*\r\nExtension: Tree Information (ti)\r\nDescription: Displays additional information within the content tree.\r\n*/\r\nexport async function initialize() {\r\n  if (!isCMSDeskFrame() || !isContentTree()) {\r\n    return;\r\n  }\r\n  const extConfig = getExtensionConfig('ti');\r\n\r\n  if (!extConfig?.Enabled) {\r\n    return;\r\n  }\r\n\r\n  const mutationObserver = new MutationObserver(function (mutations) {\r\n    for (const mutation of mutations) {\r\n      if (\r\n        mutation.addedNodes.length > 0 &&\r\n        mutation.addedNodes[0].className != 'ke-ti-info-div'\r\n      ) {\r\n        setupInfoPanels();\r\n      }\r\n    }\r\n  });\r\n\r\n  mutationObserver.observe(contenTree(), {\r\n    childList: true,\r\n    subtree: true,\r\n  });\r\n\r\n  // no need to pass current culture since it uses a different domain\r\n  treeItems = await get({ data: 'treeinfo' });\r\n\r\n  treeItemsLookup = treeItems.reduce((prev, curr) => {\r\n    prev[curr.NodeID] = curr;\r\n\r\n    return prev;\r\n  }, {});\r\n\r\n  setupInfoPanels();\r\n}\r\n\r\nfunction setupInfoPanels() {\r\n  const spanElements = document.querySelectorAll(\"span[id^='target_']\");\r\n\r\n  const bodyElement = document.querySelector('body');\r\n\r\n  for (const span of spanElements) {\r\n    const parentElement = span.parentNode;\r\n    const nodeID = span.id.replace('target_', '');\r\n    const treeItem = treeItemsLookup[nodeID];\r\n\r\n    if (!treeItem) {\r\n      continue;\r\n    }\r\n\r\n    const currentDiv = document.querySelector(`#ke_ti_node_${nodeID}`);\r\n    let infoDiv = currentDiv ?? createInfoPanel(treeItem);\r\n\r\n    infoDiv.onmouseover = function () {\r\n      this.style.display = 'block';\r\n    };\r\n    infoDiv.onmouseout = function () {\r\n      this.style.display = 'none';\r\n    };\r\n\r\n    //apend to different div so box doesn't get cut off\r\n    bodyElement.appendChild(infoDiv);\r\n\r\n    parentElement.onmouseover = function () {\r\n      // hide all existing info panels\r\n      const elementArray = document.querySelectorAll('.ke-ti-info-div');\r\n\r\n      for (const el of document.querySelectorAll('.ke-ti-info-div')) {\r\n        el.style.display = 'none';\r\n      }\r\n\r\n      // set position and show\r\n      const spanElement = this.firstElementChild;\r\n      const nodeID = spanElement.id.replace('target_', '');\r\n      const infoDiv = document.querySelector('#ke_ti_node_' + nodeID);\r\n      const clientHeight = document.querySelector(\r\n        `#node_${nodeID}`\r\n      ).clientHeight;\r\n\r\n      // content tree splitter\r\n      const contentTreeSplitterRect = document\r\n        .querySelectorAll('.ui-layout-resizer-west')[0]\r\n        .getBoundingClientRect();\r\n      infoDiv.style.top = contentTreeSplitterRect.bottom - 125 - 30 + 'px';\r\n      infoDiv.style.left = contentTreeSplitterRect.right + 10 + 'px';\r\n\r\n      //infoDiv.style.top = (spanElement.getBoundingClientRect().top + (clientHeight - 2)) + \"px\";\r\n      //infoDiv.style.left = spanElement.getBoundingClientRect().left + 20 + \"px\";\r\n      infoDiv.style.display = '';\r\n    };\r\n\r\n    parentElement.onmouseout = function () {\r\n      const nodeID = this.firstElementChild.id.replace('target_', '');\r\n      setTimeout(function () {\r\n        if (\r\n          document.querySelector('#ke_ti_node_' + nodeID).style.display == ''\r\n        ) {\r\n          document.querySelector('#ke_ti_node_' + nodeID).style.display =\r\n            'none';\r\n        }\r\n      }, 3000);\r\n    };\r\n  }\r\n}\r\n\r\nfunction createInfoPanel(treeItem) {\r\n  const infoEl = document.createElement('div');\r\n  infoEl.id = `ke_ti_node_${treeItem.NodeID}`;\r\n  infoEl.className = 'ke-ti-info-div';\r\n  infoEl.style.display = 'none';\r\n  infoEl.innerHTML = `<strong>Node Name:</strong> ${treeItem.NodeName}<br />\r\n<strong>Node ID:</strong> ${treeItem.NodeID}<br />\r\n<strong>Node GUID:</strong> ${treeItem.NodeGUID}<br />\r\n<strong>Node Alias Path:</strong>\r\n<a target='_blank' href='${treeItem.AbsolutePath}'>${treeItem.NodeAliasPath}</a><br />\r\n<strong>Page Type:</strong> ${treeItem.ClassDisplayName} [${treeItem.ClassName}]<br />\r\n<strong>Page Template:</strong> ${treeItem.PageTemplateDisplayName} [${treeItem.PageTemplateCodeName}]`;\r\n\r\n  return infoEl;\r\n}\r\n", "import { get } from '../infrastructure/api';\r\nimport { getExtensionConfig } from '../infrastructure/config';\r\nimport { isStagingFrame } from '../utilities/url';\r\n\r\n/*\r\nExtension: Staging Task User Filter (stuf)\r\nDescription: Adds a user filter and column to the staging task list\r\n*/\r\nlet ke_stuf_initalised = false;\r\nlet ke_stuf_userColumnLoaded = false;\r\nlet ke_stuf_userFilterLoaded = false;\r\n\r\nexport async function initialize() {\r\n  if (ke_stuf_initalised) {\r\n    return;\r\n  }\r\n\r\n  // detect if the current page is a staging task list\r\n  if (!isStagingFrame()) {\r\n    return;\r\n  }\r\n  // Possibly only show filter if all items are shown\r\n  // Filter does not work well with pagination\r\n  /*\r\n    const itemsPerPageSelect = document.querySelectorAll(\"select[id$='drpPageSize']\")[0];\r\n    const itemsPerPageValue = itemsPerPageSelect[itemsPerPageSelect.selectedIndex].value;\r\n    if (itemsPerPageValue != -1) { return; }\r\n    */\r\n\r\n  const extConfig = getExtensionConfig('stuf');\r\n  if (!extConfig?.Enabled) {\r\n    return;\r\n  }\r\n\r\n  await ke_stuf_initUserColumn();\r\n  await ke_stuf_initUserFilter();\r\n  ke_stuf_addSelectAllCheckBox();\r\n\r\n  Sys.WebForms.PageRequestManager.getInstance().add_endRequest(\r\n    ke_stuf_endRequestHandler\r\n  );\r\n\r\n  ke_stuf_initalised = true;\r\n}\r\n\r\nasync function ke_stuf_initUserColumn() {\r\n  const serverSelect = document.querySelectorAll(\r\n    \"select[id$='drpSingleSelect']\"\r\n  )[0];\r\n  const serverid = serverSelect.options[serverSelect.selectedIndex].value;\r\n\r\n  const task = await get({ data: 'stagingtasks', serverid });\r\n\r\n  await ke_stuf_addUserColumn(task);\r\n}\r\n\r\nasync function ke_stuf_addUserColumn(taskData) {\r\n  //get table\r\n  //iterate each row and add th or td\r\n  const taskTable = document.querySelector(\"table[id^='m_c_']\");\r\n  const taskTitleCol = taskTable.querySelectorAll('th')[2];\r\n  const headerCol = document.createElement('th');\r\n  headerCol.innerHTML = 'User';\r\n  taskTitleCol.insertAdjacentElement('afterend', headerCol);\r\n\r\n  const [_, ...taskTableRows] = taskTable.querySelectorAll('tr');\r\n  let currentTaskID = 0;\r\n  let titleCol;\r\n  let currentInput;\r\n\r\n  for (const row of taskTableRows) {\r\n    currentInput = row.querySelectorAll('input')[0];\r\n    currentTaskID = currentInput.getAttribute('data-arg');\r\n    currentTaskID = Number(currentTaskID);\r\n    titleCol = row.querySelectorAll('td')[2];\r\n    const taskRecord = await ke_stuf_getTaskByTaskID(taskData, currentTaskID);\r\n\r\n    const userCol = document.createElement('td');\r\n\r\n    if (!taskRecord) {\r\n      userCol.innerHTML = '&nbsp;';\r\n      titleCol.insertAdjacentElement('afterend', userCol);\r\n      currentInput.setAttribute('data-useridlist', 0);\r\n      row.setAttribute('data-useridlist', 0);\r\n    } else {\r\n      userCol.innerHTML = taskRecord.UserFullNameList;\r\n      titleCol.insertAdjacentElement('afterend', userCol);\r\n      currentInput.setAttribute('data-useridlist', taskRecord.UserIDList);\r\n      row.setAttribute('data-useridlist', taskRecord.UserIDList);\r\n    }\r\n  }\r\n\r\n  ke_stuf_userColumnLoaded = true;\r\n  ke_stuf_refreshFilter();\r\n}\r\n\r\nasync function ke_stuf_getTaskByTaskID(taskData, taskID) {\r\n  taskData.find((d) => d.TaskID === taskID);\r\n}\r\n\r\nasync function ke_stuf_initUserFilter() {\r\n  const serverSelect = document.querySelectorAll(\r\n    \"select[id$='drpSingleSelect']\"\r\n  )[0];\r\n  const serverid = serverSelect.options[serverSelect.selectedIndex].value;\r\n\r\n  const userData = await get({ data: 'stagingusers', serverid });\r\n\r\n  ke_stuf_addUserFilter(userData);\r\n}\r\n\r\nfunction ke_stuf_addUserFilter(userData) {\r\n  const panelContainer = document.getElementById('m_pnlContainer');\r\n  if (panelContainer === null) {\r\n    return;\r\n  }\r\n\r\n  const userPanel = document.createElement('div');\r\n  userPanel.id = 'm_pnlUserSelector';\r\n  userPanel.className = 'header-panel';\r\n  userPanel.style = 'padding: 8px 16px 8px 16px';\r\n\r\n  const userFilterContainer = document.createElement('div');\r\n  userFilterContainer.className =\r\n    'form-horizontal form-filter user-selector ke-stuf-filter-container';\r\n  userFilterContainer.style = 'float: right';\r\n\r\n  const userLabel = document.createElement('div');\r\n  userLabel.className = 'filter-form-label-cell';\r\n  userLabel.innerHTML =\r\n    '<span id=\"usersLabel\" class=\"control-label\">User:</span>';\r\n\r\n  const userFilter = document.createElement('div');\r\n  userFilter.className = 'filter-form-value-cell-wide';\r\n\r\n  const userSelect = document.createElement('select');\r\n  userSelect.id = 'kentico-extensions-user-filter';\r\n  userSelect.className = 'DropDownField form-control';\r\n\r\n  const optAll = document.createElement('option');\r\n  optAll.value = 0;\r\n  optAll.innerHTML = 'All';\r\n  userSelect.appendChild(optAll);\r\n\r\n  for (const user of userData) {\r\n    const opt = document.createElement('option');\r\n    opt.value = user.UserID;\r\n    opt.innerHTML = user.UserFullName;\r\n    userSelect.appendChild(opt);\r\n  }\r\n\r\n  userFilter.appendChild(userSelect);\r\n\r\n  userFilterContainer.appendChild(userLabel);\r\n  userFilterContainer.appendChild(userFilter);\r\n\r\n  userPanel.appendChild(userFilterContainer);\r\n\r\n  // if actions does not exist add it for styling\r\n  const actionsPanel = document.createElement('div');\r\n  actionsPanel.id = 'm_pnlActions';\r\n  actionsPanel.className = 'cms-edit-menu';\r\n\r\n  if (document.getElementById('m_pnlActions') === null) {\r\n    panelContainer.appendChild(actionsPanel);\r\n  }\r\n\r\n  panelContainer.appendChild(userPanel);\r\n\r\n  userSelect.addEventListener('change', ke_stuf_applyFilter, false);\r\n\r\n  ke_stuf_userFilterLoaded = true;\r\n\r\n  const contentPanel = document.getElementById('m_pnlContent');\r\n  if (contentPanel === null) {\r\n    return;\r\n  }\r\n  contentPanel.style = 'margin-top: 28px';\r\n}\r\n\r\nfunction ke_stuf_addSelectAllCheckBox() {\r\n  const kenticoSelectAllCheckbox = document.querySelector(\r\n    \"input[id$='headerBox']\"\r\n  );\r\n  if (kenticoSelectAllCheckbox == null) {\r\n    return;\r\n  }\r\n\r\n  const customSelectAllCheckbox = document.createElement('input');\r\n  customSelectAllCheckbox.id = 'kentico-extensions-select-all';\r\n  customSelectAllCheckbox.type = 'checkbox';\r\n  customSelectAllCheckbox.disabled = true;\r\n  customSelectAllCheckbox.addEventListener('click', ke_stuf_selectAll, false);\r\n\r\n  const customSelectAllCheckboxLabel = document.createElement('label');\r\n  customSelectAllCheckboxLabel.id = 'kentico-extensions-select-all-label';\r\n  customSelectAllCheckboxLabel.htmlFor = 'kentico-extensions-select-all';\r\n  customSelectAllCheckboxLabel.style.display = 'none';\r\n  customSelectAllCheckboxLabel.innerHTML = '&nbsp;';\r\n\r\n  kenticoSelectAllCheckbox.parentNode.insertBefore(\r\n    customSelectAllCheckbox,\r\n    kenticoSelectAllCheckbox\r\n  );\r\n  kenticoSelectAllCheckbox.parentNode.insertBefore(\r\n    customSelectAllCheckboxLabel,\r\n    kenticoSelectAllCheckbox\r\n  );\r\n}\r\n\r\nfunction ke_stuf_refreshFilter() {\r\n  if (ke_stuf_userFilterLoaded && ke_stuf_userColumnLoaded) {\r\n    ke_stuf_applyFilter();\r\n  }\r\n}\r\n\r\nfunction ke_stuf_applyFilter() {\r\n  const userSelect = document.querySelector('#kentico-extensions-user-filter');\r\n  const selectedUserID = userSelect.selectedOptions[0].value;\r\n\r\n  if (selectedUserID != 0) {\r\n    document.querySelector(\"input[id$='headerBox']\").checked = false;\r\n    document.querySelector(\"input[id$='headerBox']\").disabled = true;\r\n    document.querySelector('label[for*=\"headerBox\"').style.display = 'none';\r\n    document.querySelector('#kentico-extensions-select-all').disabled = false;\r\n    document.querySelector(\r\n      '#kentico-extensions-select-all-label'\r\n    ).style.display = '';\r\n    document.querySelector('#m_c_btnSyncAll').disabled = true;\r\n    document.querySelector('#m_c_btnDeleteAll').disabled = true;\r\n  } else {\r\n    document.querySelector(\"input[id$='headerBox']\").disabled = false;\r\n    document.querySelector('label[for*=\"headerBox\"').style.display = '';\r\n    document.querySelector('#kentico-extensions-select-all').disabled = true;\r\n    document.querySelector(\r\n      '#kentico-extensions-select-all-label'\r\n    ).style.display = 'none';\r\n    document.querySelector('#m_c_btnSyncAll').disabled = false;\r\n    document.querySelector('#m_c_btnDeleteAll').disabled = false;\r\n  }\r\n\r\n  //iterate each row, if not assigned to user, hide the row\r\n  const taskTable = document.querySelector(\"table[id^='m_c_']\");\r\n  const [_, ...taskTableRows] = taskTable.querySelectorAll('tr');\r\n\r\n  let visibleRows = 0;\r\n  let selectedRows = 0;\r\n\r\n  for (const row of taskTableRows) {\r\n    const currentUserIDList = row.getAttribute('data-useridlist');\r\n    if (!currentUserIDList) {\r\n      continue;\r\n    }\r\n    const currentInput = row.getElementsByTagName('input')[0];\r\n\r\n    if (currentUserIDList.includes(`|${selectedUserID}|`)) {\r\n      row.style = 'display: table-row;';\r\n      visibleRows++;\r\n    } else if (selectedUserID === '0') {\r\n      row.style = 'display: table-row;';\r\n      visibleRows++;\r\n    } else {\r\n      row.style = 'display: none;';\r\n      if (currentInput.checked) {\r\n        currentInput.dispatchEvent(new MouseEvent('click'));\r\n      }\r\n    }\r\n\r\n    if (currentInput.checked) {\r\n      selectedRows++;\r\n    }\r\n  }\r\n\r\n  // if all visible rows are selected, check the select all checkbox\r\n  if (visibleRows === selectedRows) {\r\n    document.querySelector('#kentico-extensions-select-all').checked = true;\r\n  } else {\r\n    document.querySelector('#kentico-extensions-select-all').checked = false;\r\n  }\r\n}\r\n\r\nasync function ke_stuf_endRequestHandler(sender, args) {\r\n  await ke_stuf_initUserColumn();\r\n  ke_stuf_addSelectAllCheckBox();\r\n  ke_stuf_refreshFilter();\r\n}\r\n\r\nfunction ke_stuf_selectAll() {\r\n  const selectAll = document.querySelector(\r\n    '#kentico-extensions-select-all'\r\n  ).checked;\r\n  const userSelect = document.querySelector('#kentico-extensions-user-filter');\r\n  const selectedUserID = parseInt(userSelect.selectedOptions[0].value, 10);\r\n  const taskTable = document.querySelector(\"table[id^='m_c_']\");\r\n  const taskTableRows = taskTable.querySelectorAll('tr');\r\n\r\n  let currentUserID = 0;\r\n  let currentInput;\r\n\r\n  for (const row of taskTableRows) {\r\n    currentUserID = parseInt(row.getAttribute('data-userid'), 10);\r\n\r\n    if (!currentUserID) {\r\n      continue;\r\n    }\r\n\r\n    currentUserID = parseInt(row.getAttribute('data-userid'), 10);\r\n    currentInput = row.querySelectorAll('input')[0];\r\n\r\n    const clickEvent = new MouseEvent('click');\r\n\r\n    if (selectedUserID === currentUserID && selectAll) {\r\n      if (currentInput.checked == false) {\r\n        currentInput.dispatchEvent(clickEvent);\r\n      }\r\n    } else {\r\n      if (currentInput.checked) {\r\n        currentInput.dispatchEvent(clickEvent);\r\n      }\r\n    }\r\n  }\r\n}\r\n", "import { getAppConfig, getExtensionConfig } from '../infrastructure/config';\r\n\r\nexport function ke_log(message, outputpathname) {\r\n  const { ConsoleLogging } = getAppConfig();\r\n\r\n  if (outputpathname == undefined) {\r\n    outputpathname = false;\r\n  }\r\n  var callingFunction = arguments.callee.caller.name;\r\n\r\n  // if the calling function matches ke_xx_ or ke_xxx_\r\n  if (callingFunction.match(/^ke_.{2,3}_/) != null) {\r\n    var extCodeStart = callingFunction.indexOf('_') + 1;\r\n    var extCodeEnd = callingFunction.substr(extCodeStart).indexOf('_');\r\n    var extCode = callingFunction.substr(extCodeStart, extCodeEnd);\r\n    var extConfig = getExtensionConfig(extCode);\r\n    if (extConfig != undefined && extConfig.ConsoleLogging == false) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (callingFunction.startsWith('ke_') && ConsoleLogging == false) {\r\n    return;\r\n  }\r\n\r\n  if (callingFunction == '') {\r\n    callingFunction = 'ke_anonymous';\r\n  }\r\n\r\n  var currentDate = new Date();\r\n  var dateString = currentDate.toISOString().substr(0, 19).replace('T', ' ');\r\n  var output = dateString + ' ' + callingFunction + ': ' + message;\r\n  if (outputpathname) {\r\n    output += '\\n' + window.location.pathname;\r\n  }\r\n  console.log(output);\r\n}\r\n", "import { getAppConfig, getExtensionConfig } from '../infrastructure/config';\r\nimport { isCMSRootIFrame } from '../utilities/dom';\r\nimport { isCMSDashboard } from '../utilities/url';\r\nimport { ke_log } from '../utilities/log';\r\nimport { ke_getCurrentDateTimeString } from '../utilities/formatting';\r\nimport { getCurrentSession } from '../auth/session';\r\nimport { get } from '../infrastructure/api';\r\n\r\n/*\r\nExtension: Shortcuts Bar (sb)\r\nDescription: Adds a navigation bar to the top of the CMS containing links to common functionality\r\n*/\r\nexport function initialize() {\r\n  if (isCMSDashboard) {\r\n    ke_sb_observeDashboardUpdates();\r\n  }\r\n\r\n  if (!isCMSRootIFrame) {\r\n    return;\r\n  }\r\n\r\n  const extConfig = getExtensionConfig('sb');\r\n  if (!extConfig.Enabled) {\r\n    return;\r\n  }\r\n\r\n  window.addEventListener('storage', ke_sb_localStorageCheck);\r\n  ke_sb_load();\r\n}\r\n\r\nfunction ke_sb_observeDashboardUpdates() {\r\n  // observe changes to the dashboard page\r\n  // since the dashboard is built dynamically, when the edit button is added, bind an event to it\r\n  var buttonEventBound = false;\r\n  const mutationObserver = new MutationObserver(function (mutations) {\r\n    if (buttonEventBound) return;\r\n    mutations.forEach(function () {\r\n      if (buttonEventBound) return;\r\n      const editButton = document.querySelector(\r\n        'button.btn.btn-edit-mode.btn-default.icon-only'\r\n      );\r\n      if (editButton !== null) {\r\n        editButton.addEventListener('click', ke_se_editDashboardClick, false);\r\n        buttonEventBound = true;\r\n      }\r\n    });\r\n  });\r\n\r\n  const dashboardContainer = document.querySelector('body');\r\n  if (dashboardContainer !== null) {\r\n    mutationObserver.observe(dashboardContainer, {\r\n      childList: true,\r\n      subtree: true,\r\n    });\r\n  }\r\n}\r\n\r\nfunction ke_se_editDashboardClick() {\r\n  var addNewAppLink = document.querySelector(\r\n    'a.tile-dead-btn.tile-btn.tile-btn-add'\r\n  );\r\n  var addAppLinkHidden =\r\n    addNewAppLink.parentElement.classList.contains('ng-hide');\r\n  // when the button is clicked after editing the dashboard update the shortcuts bar\r\n  if (!this.className.endsWith('active') && !addAppLinkHidden) {\r\n    // the shortcut bar will update whenever the following local storage item changes\r\n    // this will cause all shortcut bars accross all windows to update\r\n    ke_log('updating shortcuts bar');\r\n    localStorage.setItem(\r\n      'ke-shortcutsbar-lastupdated',\r\n      ke_getCurrentDateTimeString()\r\n    );\r\n  }\r\n}\r\n\r\nfunction ke_sb_localStorageCheck(e) {\r\n  if (e.key === 'ke-shortcutsbar-lastupdated') {\r\n    ke_sb_refresh(false);\r\n  }\r\n}\r\n\r\nasync function ke_sb_load() {\r\n  const masterContainer = isCMSRootIFrame();\r\n  if (!masterContainer) {\r\n    return;\r\n  }\r\n\r\n  const kenavbar = document.createElement('div');\r\n  kenavbar.id = 'ke-nav-bar';\r\n  kenavbar.className = 'ke-nav-bar';\r\n  kenavbar.style.backgroundColor = '#ffffff';\r\n\r\n  const kenavbarlabel = document.createElement('div');\r\n  kenavbarlabel.id = 'ke-nav-bar-label';\r\n  kenavbarlabel.className = 'ke-nav-bar-label';\r\n  kenavbarlabel.style.display = 'none';\r\n\r\n  const kenavbarinnerlabel = document.createElement('div');\r\n  kenavbarinnerlabel.id = 'ke-nav-bar-inner-label';\r\n  kenavbarinnerlabel.className = 'ke-nav-bar-inner-label';\r\n  kenavbarlabel.appendChild(kenavbarinnerlabel);\r\n\r\n  const hideShowLink = document.createElement('a');\r\n  hideShowLink.id = 'ke-nav-bar-hideshow';\r\n  hideShowLink.className = 'ke-nav-bar-hideshow';\r\n  hideShowLink.title = 'Hide Shortcuts Bar';\r\n  hideShowLink.onclick = ke_sb_hideShow;\r\n  const hideShowIcon = document.createElement('i');\r\n  hideShowIcon.className =\r\n    'icon-chevron-right cms-nav-icon-medium icon-hideshow';\r\n  hideShowLink.appendChild(hideShowIcon);\r\n\r\n  const menuLink = document.createElement('a');\r\n  menuLink.id = 'ke-nav-bar-menu';\r\n  menuLink.className = 'ke-nav-bar-menu';\r\n  menuLink.title = 'Menu';\r\n  menuLink.onmouseenter = ke_sb_showMenu;\r\n  menuLink.onmouseleave = ke_sb_hideMenu;\r\n  const menuIcon = document.createElement('i');\r\n  menuIcon.className = 'icon-menu cms-nav-icon-medium';\r\n  menuLink.appendChild(menuIcon);\r\n\r\n  const menuContent = document.createElement('div');\r\n  menuContent.id = 'ke-nav-bar-menu-content';\r\n  menuContent.className = 'ke-nav-bar-menu-content';\r\n  menuContent.onmouseenter = ke_sb_showMenu;\r\n  menuContent.onmouseleave = ke_sb_hideMenu;\r\n\r\n  const configItem = document.createElement('a');\r\n  configItem.id = 'ke-nav-bar-config';\r\n  configItem.className = 'ke-nav-bar-config';\r\n  configItem.innerHTML = 'Config';\r\n  configItem.href = '/kenticoextensions/config.aspx';\r\n  configItem.target = '_blank';\r\n  menuContent.appendChild(configItem);\r\n\r\n  const konsoleItem = document.createElement('a');\r\n  konsoleItem.id = 'ke-nav-bar-konsole';\r\n  konsoleItem.className = 'ke-nav-bar-konsole';\r\n  konsoleItem.innerHTML = 'Konsole';\r\n  konsoleItem.href = '#';\r\n  konsoleItem.addEventListener('click', ke_sb_hideShow, false);\r\n  menuContent.appendChild(konsoleItem);\r\n\r\n  const konsoleTabItem = document.createElement('a');\r\n  konsoleTabItem.id = 'ke-nav-bar-konsole-tab';\r\n  konsoleTabItem.className = 'ke-nav-bar-konsole-tab';\r\n  konsoleTabItem.innerHTML = 'Konsole Tab';\r\n  konsoleTabItem.href = '/kenticoextensions/konsole.aspx';\r\n  konsoleTabItem.target = '_blank';\r\n  menuContent.appendChild(konsoleTabItem);\r\n\r\n  const refreshItem = document.createElement('a');\r\n  refreshItem.id = 'ke-nav-bar-refresh';\r\n  refreshItem.className = 'ke-nav-bar-refresh';\r\n  refreshItem.innerHTML = 'Refresh Nav Bar';\r\n  refreshItem.href = '#';\r\n  refreshItem.addEventListener('click', ke_sb_refresh, false);\r\n  menuContent.appendChild(refreshItem);\r\n\r\n  const navBarLine = document.createElement('div');\r\n  navBarLine.className = 'ke-nav-bar-line';\r\n  menuContent.appendChild(navBarLine);\r\n\r\n  const liveSiteItem = document.createElement('a');\r\n  liveSiteItem.id = 'ke-nav-bar-livesite';\r\n  liveSiteItem.className = 'ke-nav-bar-livesite';\r\n  liveSiteItem.innerHTML = 'Live Site';\r\n  const { publicSiteURL } = getAppConfig();\r\n  liveSiteItem.href = publicSiteURL;\r\n  liveSiteItem.target = '_blank';\r\n  menuContent.appendChild(liveSiteItem);\r\n\r\n  var userid = getCurrentSession().id;\r\n  var shortcutBarItems = await get({ data: 'shortcutbaritems', userid });\r\n\r\n  if (shortcutBarItems.length) {\r\n    const shortcutBarElements = ke_sb_build(shortcutBarItems);\r\n    kenavbar.appendChild(shortcutBarElements);\r\n    kenavbar.appendChild(menuLink);\r\n    kenavbar.appendChild(hideShowLink);\r\n    const totalItems = kenavbar.getElementsByTagName('a').length;\r\n    kenavbar.appendChild(menuContent);\r\n    // Need to add 3 to allow for the refresh, hide/show and menu buttons\r\n    kenavbar.style.width = totalItems * 36 + 'px';\r\n    masterContainer.parentNode.insertBefore(kenavbar, masterContainer);\r\n\r\n    kenavbarlabel.style.width = kenavbar.style.width;\r\n    masterContainer.parentNode.insertBefore(kenavbarlabel, masterContainer);\r\n  }\r\n\r\n  if (!shortcutBarItems.length) {\r\n    const messageDiv = document.createElement('div');\r\n    messageDiv.id = 'ke-nav-bar-message';\r\n    messageDiv.className = 'ke-nav-bar-message';\r\n    messageDiv.innerHTML =\r\n      'Add tiles to your dashboard to populate this shorcuts bar';\r\n    kenavbar.appendChild(messageDiv);\r\n    kenavbar.appendChild(menuLink);\r\n    kenavbar.appendChild(menuContent);\r\n    kenavbar.appendChild(hideShowLink);\r\n    kenavbar.style.width = '500px';\r\n    masterContainer.parentNode.insertBefore(kenavbar, masterContainer);\r\n  }\r\n\r\n  ke_log('shortcuts bar loaded');\r\n}\r\n\r\nfunction ke_sb_build(shortcutBarItems) {\r\n  const shortcutsSpan = document.createElement('span');\r\n  shortcutsSpan.id = 'ke-nav-bar-shortcuts';\r\n  shortcutsSpan.className = 'ke-nav-bar-shortcuts';\r\n\r\n  shortcutBarItems.forEach(function (sbi) {\r\n    const shortcutLink = document.createElement('a');\r\n    shortcutLink.id = `ke-nav-bar-${sbi.name.toLowerCase().replace(' ', '-')}`;\r\n    shortcutLink.dataset.label = sbi.name;\r\n    shortcutLink.href = '#' + sbi.guid;\r\n\r\n    shortcutLink.onmouseover = function () {\r\n      const navbarlabel = document.getElementById('ke-nav-bar-label');\r\n      const navbarinnerlabel = navbarlabel.firstChild;\r\n      navbarinnerlabel.innerHTML = this.dataset.label;\r\n      navbarlabel.style.display = '';\r\n    };\r\n    shortcutLink.onmouseout = function () {\r\n      const navbarlabel = document.getElementById('ke-nav-bar-label');\r\n      navbarlabel.style.display = 'none';\r\n    };\r\n\r\n    const shortcutIcon = document.createElement('i');\r\n    shortcutIcon.className = `${\r\n      sbi.iconClass\r\n    } cms-nav-icon-medium icon-${sbi.iconColor.toLowerCase()}`;\r\n\r\n    shortcutLink.appendChild(shortcutIcon);\r\n    shortcutsSpan.appendChild(shortcutLink);\r\n  });\r\n\r\n  return shortcutsSpan;\r\n}\r\n\r\nfunction ke_sb_refresh(updateLocalStorage) {\r\n  const masterContainer = isCMSRootIFrame();\r\n  if (!masterContainer) {\r\n    return;\r\n  }\r\n\r\n  ke_log('shortcuts bar refreshing');\r\n\r\n  var { id } = getCurrentSession();\r\n  localStorage.removeItem('data=shortcutbaritems&userid=' + id);\r\n\r\n  const shortcutsBar = document.getElementById('ke-nav-bar');\r\n  if (shortcutsBar) {\r\n    masterContainer.parentNode.removeChild(shortcutsBar);\r\n  }\r\n\r\n  ke_sb_load();\r\n\r\n  if (updateLocalStorage) {\r\n    localStorage.setItem(\r\n      'ke-shortcutsbar-lastupdated',\r\n      ke_getCurrentDateTimeString()\r\n    );\r\n  }\r\n}\r\n\r\nfunction ke_sb_hideShow() {\r\n  const shortcutsBar = document.getElementById('ke-nav-bar');\r\n\r\n  var elementToHideShow = document.getElementById('ke-nav-bar-shortcuts');\r\n  if (!elementToHideShow) {\r\n    elementToHideShow = document.getElementById('ke-nav-bar-message');\r\n  }\r\n  if (!elementToHideShow) {\r\n    return;\r\n  }\r\n\r\n  const hideShowLink = document.getElementById('ke-nav-bar-hideshow');\r\n  const hideShowIcon = hideShowLink.getElementsByClassName('icon-hideshow')[0];\r\n\r\n  if (hideShowIcon.classList.contains('icon-chevron-right')) {\r\n    shortcutsBarWidth = shortcutsBar.style.width;\r\n    hideShowIcon.className = hideShowIcon.className.replace(\r\n      'icon-chevron-right',\r\n      'icon-chevron-left'\r\n    );\r\n    hideShowLink.title = 'Show Shortcuts Bar';\r\n    elementToHideShow.style.display = 'none';\r\n    shortcutsBar.style.backgroundColor = '';\r\n    return;\r\n  }\r\n\r\n  hideShowIcon.className = hideShowIcon.className.replace(\r\n    'icon-chevron-left',\r\n    'icon-chevron-right'\r\n  );\r\n  hideShowLink.title = 'Hide Shortcuts Bar';\r\n  elementToHideShow.style.display = '';\r\n  shortcutsBar.style.backgroundColor = '#ffffff';\r\n}\r\n\r\nfunction ke_sb_showMenu() {\r\n  document.getElementById('ke-nav-bar-menu-content').style.display = 'block';\r\n}\r\n\r\nfunction ke_sb_hideMenu() {\r\n  document.getElementById('ke-nav-bar-menu-content').style.display = 'none';\r\n}\r\n", "import { get } from '../infrastructure/api';\r\nimport { getExtensionConfig } from '../infrastructure/config';\r\nimport { ke_formatBytes } from '../utilities/formatting';\r\nimport { getQueryStringValue } from '../utilities/url';\r\n\r\n/*\r\nExtension: Media Selector (ms)\r\nDescription: Adds the selected images dimensions and file size as a label next to the thumbnail\r\n*/\r\nexport function initialize() {\r\n  const mediaSelectors = document.querySelectorAll('.media-selector-image');\r\n  if (!mediaSelectors.length) {\r\n    return;\r\n  }\r\n\r\n  const extConfig = getExtensionConfig('ms');\r\n\r\n  if (!extConfig.Enabled) {\r\n    return;\r\n  }\r\n\r\n  const mutationObserver = new MutationObserver(function (mutations) {\r\n    mutations.forEach(function (mutation) {\r\n      const testMutation = mutation;\r\n      if (\r\n        mutation.addedNodes.length === 1 &&\r\n        mutation.addedNodes[0].id !== undefined &&\r\n        mutation.addedNodes[0].id.indexOf('mediaSelector') > 0\r\n      ) {\r\n        ke_ms_addImageSizeLabel(mutation.target);\r\n      }\r\n    });\r\n  });\r\n\r\n  mediaSelectors.forEach(async function (ms) {\r\n    await ke_ms_addImageSizeLabel(ms);\r\n  });\r\n\r\n  // If the mutation observer observe method is called within an async function\r\n  // the mutations will not be raised. Not sure why, but given the mutation\r\n  // observer works asynchronously, this probably has something to do with it\r\n  // TODO: research more on mutation observers and async :)\r\n  mediaSelectors.forEach(function (ms) {\r\n    mutationObserver.observe(ms, { childList: true });\r\n  });\r\n}\r\n\r\nasync function ke_ms_addImageSizeLabel(ms) {\r\n  ms = ms.parentNode;\r\n  const msinput = ms.querySelector('input');\r\n  if (msinput.value === '') {\r\n    return;\r\n  }\r\n  const imageurl = msinput.value.replaceAll('&amp;', '&');\r\n  let msimage = ms.querySelector('img');\r\n  if (!msimage) {\r\n    return;\r\n  }\r\n\r\n  const fileguid = imageurl\r\n    .replace('~/getmedia/', '')\r\n    .replace('/getmedia/', '')\r\n    .substring(0, 36);\r\n  const width = getQueryStringValue('width', imageurl);\r\n  const height = getQueryStringValue('height', imageurl);\r\n\r\n  const mediaFile = await get({\r\n    data: 'mediafileinfo',\r\n    fileguid,\r\n    width,\r\n    height,\r\n  });\r\n\r\n  const imagedimensions = `${mediaFile.Width} x ${mediaFile.Height}`;\r\n  const bytes = ke_formatBytes(mediaFile.Size);\r\n  const sizehtml = `<br><b>Size:</b> ${imagedimensions} (${bytes})`;\r\n  const titlehtml =\r\n    mediaFile.Title !== '' ? `<br><b>Title:</b> ${mediaFile.Title}` : '';\r\n  const deschtml =\r\n    mediaFile.Description !== ''\r\n      ? `<br><b>Alt Text:</b> ${mediaFile.Description}`\r\n      : '';\r\n\r\n  msimage = document.querySelector(`img[src*=\"${mediaFile.GUID}\"]`).parentNode;\r\n\r\n  const mslabel = msimage.querySelector('.ke-ms-label');\r\n\r\n  const labelhtmk = sizehtml + titlehtml + deschtml;\r\n  // use create element and append to dom\r\n  if (mslabel) {\r\n    mslabel.innerHTML = labelhtmk;\r\n    return;\r\n  }\r\n  const labelElement = document.createElement('div');\r\n  labelElement.id = mediaFile.GUID;\r\n  labelElement.className = 'ke-ms-label';\r\n  labelElement.title = 'Information provided by Kentico Extensions :)';\r\n  labelElement.innerHTML = labelhtmk;\r\n  msimage.appendChild(labelElement);\r\n}\r\n\r\n// This extension method could be placed into a utility module\r\n// Given it is small and only used once, it can remain here for now\r\nfunction replaceAll(str, find, replace) {\r\n  return str.replace(new RegExp(find, 'g'), replace);\r\n}\r\n", "import { initialize as environmentsBar } from './environments-bar';\r\nimport { initialize as documentInformation } from './document-information';\r\nimport { initialize as treeInformation } from './tree-information';\r\nimport { initialize as staginTasks } from './staging-tasks';\r\nimport { initialize as shortcutsBar } from './shortcuts-bar';\r\nimport { initialize as mediaSelector } from './media-selector';\r\n\r\nexport function initializePlugins() {\r\n  environmentsBar();\r\n  documentInformation();\r\n  treeInformation();\r\n  staginTasks();\r\n  shortcutsBar();\r\n  mediaSelector();\r\n}\r\n", "import { setAppConfig } from './infrastructure/config';\r\nimport { isCurrentSessionEnabled, setCurrentSession } from './auth/session';\r\nimport { get } from './infrastructure/api';\r\n\r\nimport { isCMSRootIFrame } from './utilities/dom';\r\nimport { isLoginPage } from './utilities/url';\r\nimport { initializePlugins } from './plugins/plugins';\r\n\r\n(async function init() {\r\n  if (isLoginPage()) {\r\n    // clear local storage to avoid using cached data for another user\r\n    localStorage.clear();\r\n\r\n    // don't do anything else since it is the login page\r\n    return;\r\n  }\r\n\r\n  const sessionData = await get({ data: 'session' });\r\n\r\n  setCurrentSession({\r\n    id: sessionData.UserID,\r\n    guid: sessionData.UserGUID,\r\n    username: sessionData.UserName,\r\n    globalAdmin: sessionData.GlobalAdmin,\r\n  });\r\n\r\n  const config = await get({ data: 'configuration' });\r\n\r\n  setAppConfig(config);\r\n\r\n  if (config.Enabled && isCurrentSessionEnabled()) {\r\n    // initalise all the extensions\r\n    document.dispatchEvent(new Event('ke_init_complete'));\r\n\r\n    initializePlugins();\r\n  }\r\n})();\r\n"],
  "mappings": "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",
  "names": []
}
